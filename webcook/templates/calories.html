{% load static %}
<!--<link rel="stylesheet" href="{% static 'css/calories.css' %}">

<h1><a href="../">Group 13's cooking website</a></h1>
<h2>Calories Calculator</h2>

<form method="POST">
    <input class="center" name="calories" type="text" placeholder="Just put the dish you want to know here">
    <input class="center" type="submit">
</form>

<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Calories</th>
            <th scope="col">Serving Size (g)</th>
            <th scope="col">Total Fat (g)</th>
            <th scope="col">Saturated Fat (g)</th>
            <th scope="col">Protein</th>
            <th scope="col">Sodium</th>
            <th scope="col">Cholesterol</th>
            <th scope="col">Potassium</th>
            <th scope="col">Carbohydrates</th>
            <th scope="col">Fiber</th>
            <th scope="col">Sugar</th>
        </tr>
    </thead>
    <tbody id="result">
        {% for value in res.items %}
        <tc>

        </tc>
        <tr>
            <td>{{value.name}}</td>
            <td>{{value.calories}}</td>
            <td>{{value.serving_size_g}}g</td>
            <td>{{value.fat_total_g}}g</td>
            <td>{{value.fat_saturated_g}}g</td>
            <td>{{value.protein_g}}g</td>
            <td>{{value.sodium_mg}}mg</td>
            <td>{{value.potassium_mg}}mg</td>
            <td>{{value.cholesterol_mg}}mg</td>
            <td>{{value.carbohydrates_total_g}}g</td>
            <td>{{value.fiber_g}}g</td>
            <td>{{value.sugar_g}}g</td>
        </tr>
        {% endfor %}
    </tbody>
</table>-->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CALORIES CACULATOR</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
</head>
<body>
  <style>
    .navbar-custom {
    margin-bottom: 20px;
    color: white;
    background: #181A1B;
    font-family: sans-serif;
}
  </style>
  <!-- Header -->
<div class="header">
</div>
<style>
    .header {
    background-image: url("{% static 'image/bg-img/header.jpg' %}");
    background-size: cover; /* Để hình ảnh nền phủ kín phần header */
    background-repeat: no-repeat; /* Không lặp lại hình ảnh nền */
    height: 150px; /* Điều chỉnh chiều cao của header theo mong muốn */
    text-align: center; /* Căn giữa nội dung trong header */
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>
<a class="navbar-brand d-flex justify-content-center " href="../">
    <img src="{% static 'image/bg-img/UIT_logo.png' %}" style="max-height: 200px; max-width: 200px;">
</a>


<style>
    /* CSS customizations */
    .post-image {
        width: 100%; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
        max-width: 600px; /* Set a max-width if needed */
        display: block; /* Center the image */
        margin: 0 auto; /* Center the image */
    }
    
    .post-text {
        font-size: 1.25rem; /* Larger text size */
        margin-top: 1rem; /* Add space between image and text */
        text-align: center; /* Center the text */
    }
</style>


  


        <nav class="navbar navbar-expand-lg  navbar-custom">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar" aria-controls="collapsibleNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
    
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item ">
                        <a class="nav-link" href="../" style="color:white">HOME</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color:white"> ABOUT US
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="../member" style="color:black">Member</a></li>
                            <li><a class="dropdown-item" href="./maps.html" style="color:black">Maps</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../calories" style="color:white">CALORIES CALCULATOR</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../bmi" style="color:white">BMI CALCULATOR</a>
                    </li>
                    {% if user.is_authenticated %}
                    <li class="nav-item" id="login">
                        <a class="nav-link" href="../logout" style="color:white">LOGOUT</a>
                    </li>
                    <li class="nav-item" id="login">
                        <a class="nav-link" href="../info" style="color:white">ID</a>
                    </li>
                    {% else %}
                    <li class="nav-item" id="login">
                        <a class="nav-link" href="../login" style="color:white">LOGIN/REGISTER</a>
                    </li>
                    {% endif %}
                    <!--<input class="form-control text-dark" list="searches" name="q" type="text" id="search" placeholder="Enter your search query">-->
                    <form class="d-flex" action="{% url 'results' %}" method="get">
                        <input class="form-control text-dark" list="searches" name="q" type="text" id="search" placeholder="Enter your search query" required>
                        <datalist id="searches">
                            <option value="Option1">
                            <option value="Option2">
                        </datalist>
                        <button class ="btn btn-outline-light" style="width:80px; height:40px;" type="submit" formaction="{% url 'results' %}">Search</button>
                    </form>
                </ul>
            </div>
        </nav>

 <div class="container mt-5">
    <h2 class="text-center text-white">CALORIES CACULATOR</h2>
</div>
<br>
<br>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<div class="container">
    <br/>
    <div class="row justify-content-center">
        <div class="col-12 col-sm-8 col-lg-8">
            <div class="card card-sm">
                <div class="card-body row no-gutters align-items-center">
                    <div class="col-auto">
                        <i class="fas fa-search h4 text-body"></i>
                    </div>
                    <div class="col">
                        <input class="form-control form-control-lg form-control-borderless" id="searchInput" type="search" placeholder="Search topics or keywords">
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-lg btn-dark" onclick="Result()" type="button">Search</button>
                    </div>
                </div>
            </div>
            <div id="searchResultsContainer" class="mt-3"></div>
        </div>
    </div>
</div>

<script>
    function Result() {
        var name = document.getElementById("searchInput").value;

        // Make an API request to Calorieninjas
        fetch('https://api.calorieninjas.com/v1/nutrition?query=' + name, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'X-Api-Key': 'eXi/cbtslPkxaTldEqgcHQ==8djji7GWQVGBLA56', // Replace with your actual API key
            },
        })
        .then(response => response.json())
        .then(data => {
            displayResults(data);
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
    }

    function displayResults(data) {
    // Clear previous results
    document.getElementById("searchResultsContainer").innerHTML = "";

    console.log(data);

    // Create a new result container
    var resultContainer = document.createElement("div");
    resultContainer.innerHTML = "<h2 style='color: white;'>Result:</h2>";

    // Create a table for each item
    data.items.forEach(item => {
        var tableHTML = "<table class='table table-bordered' style='color: white;'>" +
            "<tr><td><strong>Name:</strong></td><td>" + item.name + "</td></tr>" +
            "<tr><td><strong>Calories:</strong></td><td>" + item.calories + "</td></tr>" +
            "<tr><td><strong>Serving Size(g):</strong></td><td>" + item.serving_size_g + "</td></tr>" +
            "<tr><td><strong>Total Fat(g):</strong></td><td>" + item.fat_total_g + "</td></tr>" +
            "<tr><td><strong>Protein:</strong></td><td>" + item.protein_g + "</td></tr>" +
            "<tr><td><strong>Sodium:</strong></td><td>" + item.sodium_mg + "</td></tr>" +
            "<tr><td><strong>Cholesterol:</strong></td><td>" + item.cholesterol_mg + "</td></tr>" +
            "<tr><td><strong>Potassium:</strong></td><td>" + item.potassium_mg + "</td></tr>" +
            "<tr><td><strong>Carbonhydrates:</strong></td><td>" + item.carbohydrates_total_g + "</td></tr>" +
            "<tr><td><strong>Fiber:</strong></td><td>" + item.fiber_g + "</td></tr>" +
            "<tr><td><strong>Sugar:</strong></td><td>" + item.sugar_g + "</td></tr>" +
            "</table>";

        // Append each table to the result container
        resultContainer.innerHTML += tableHTML;
    });

    // Append the result container to the main container
    document.getElementById("searchResultsContainer").appendChild(resultContainer);
}

</script>


   <!-- Nút cuộn lên đầu trang -->
<button onclick="scrollToTop()" id="scrollToTopButton" style="display:none; position:fixed; bottom:20px; right:20px;">Lên Đầu Trang</button>
<script>
    // Hàm cuộn lên đầu trang
    function scrollToTop() {
        window.scrollTo({top: 0, behavior: 'smooth'});
    }
    
    // Hiển thị nút khi cuộn xuống một khoảng nhất định
    window.onscroll = function() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("scrollToTopButton").style.display = "block";
        } else {
            document.getElementById("scrollToTopButton").style.display = "none";
        }
    };
</script>
    

</body>
</html>

